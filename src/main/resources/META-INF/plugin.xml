<idea-plugin>
  <id>io.github.avaxerrr.qsstoolkit</id>
  <name>QSS Toolkit</name>

  <vendor email="zonemaxq@gmail.com" url="https://github.com/avaxerrr">avaxerrr</vendor>

  <description><![CDATA[
        <h2>QSS Toolkit - Complete Qt Style Sheet Support for JetBrains IDEs</h2>

        <p>Professional Qt Style Sheet (QSS) editing support for all IntelliJ Platform-based IDEs. Perfect for Qt developers working in C++, Python, or any other Qt-supported language.</p>

        <h3>Key Features</h3>
        <ul>
            <li><b>Complete Qt 6.10 Coverage</b> - Full support for all 96 QSS properties and 50 styleable widgets with Qt 5/6 backward compatibility</li>
            <li><b>Advanced Selector Support</b> - 82 sub-controls (::handle, ::drop-down) and 44 pseudo-states (:hover, :checked) with intelligent chained syntax (QScrollBar::handle:vertical)</li>
            <li><b>Smart Context-Aware Completion</b> - Relevant suggestions based on widget type - scrollbars show horizontal/vertical, checkboxes show checked/unchecked, with automatic popup triggers</li>
            <li><b>Professional Syntax Highlighting</b> - Enhanced color scheme with semantic separation for selectors, properties, keywords, and values</li>
            <li><b>Intelligent Auto-Completion</b> - Auto-insert colons, close brackets, CSS units (px, pt, em), and suggest QSS functions (rgb, rgba, url, gradients)</li>
            <li><b>Multiple Color Formats</b> - Full support for hex (#RRGGBB), RGB (rgb(r,g,b)), and RGBA (rgba(r,g,b,a)) colors</li>
            <li><b>Visual Color Picker</b> - Click gutter icons to edit colors with streamlined HSV, HSL, and RGB panels</li>
            <li><b>Format Preservation</b> - Automatically maintains your chosen color format (hex, RGB, or RGBA) when editing</li>
            <li><b>Color Palettes</b> - Create and manage reusable color palettes for consistent styling</li>
            <li><b>Code Navigation</b> - Structure view, code folding, and hierarchical selector navigation</li>
        </ul>

        <h3>Works Everywhere</h3>
        <p>Compatible with all JetBrains IDEs - no language-specific dependencies required:</p>
        <ul>
            <li><b>CLion</b> - C++ Qt development (no Python dependency!)</li>
            <li><b>PyCharm</b> - Python Qt (PySide6, PyQt6, PySide2, PyQt5)</li>
            <li><b>IntelliJ IDEA</b> - Java Qt (QtJambi)</li>
            <li><b>WebStorm</b> - Qt for WebAssembly projects</li>
            <li><b>Rider</b> - .NET Qt development</li>
            <li><b>All other IntelliJ Platform IDEs</b></li>
        </ul>

        <h3>Quick Start</h3>
        <p>Install the plugin and open any .qss file. All features work immediately with no configuration needed. Use Ctrl+Space for intelligent completion suggestions.</p>
    ]]></description>

  <!-- Product and plugin compatibility requirements -->
  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.modules.lang</depends>

  <extensions defaultExtensionNs="com.intellij">
    <!-- File type registration -->
    <fileType name="QSS"
              implementationClass="io.github.avaxerrr.qsstoolkit.QssFileType"
              language="QSS"
              extensions="qss"/>

    <!-- Syntax highlighter -->
    <lang.syntaxHighlighterFactory
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.highlighting.QssSyntaxHighlighterFactory"/>

    <!-- Parser definition -->
    <lang.parserDefinition
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.parser.QssParserDefinition"/>

    <!-- Color annotator for gutter icons -->
    <annotator
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.highlighting.QssColorAnnotator"/>

    <!-- Completion contributor (includes QssPropertyInsertHandler internally) -->
    <completion.contributor
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.completion.QssCompletionContributor"/>

    <!-- Comment toggle (Ctrl+/) -->
    <lang.commenter
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.editing.QssCommenter"/>

    <!-- Auto-close quotes -->
    <lang.quoteHandler
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.editing.QssQuoteHandler"/>

    <!-- Highlight matching braces/brackets -->
    <lang.braceMatcher
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.editing.QssBraceMatcher"/>

    <!-- Auto-complete brackets with smart indent -->
    <typedHandler
            implementation="io.github.avaxerrr.qsstoolkit.editing.QssTypedHandler"/>

    <!-- Smart Enter key handling -->
    <enterHandlerDelegate
            implementation="io.github.avaxerrr.qsstoolkit.editing.QssEnterHandler"/>

    <!-- Code folding -->
    <lang.foldingBuilder
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.folding.QssFoldingBuilder"/>

    <!-- Structure view -->
    <lang.psiStructureViewFactory
            language="QSS"
            implementationClass="io.github.avaxerrr.qsstoolkit.structure.QssStructureViewFactory"/>

    <!-- Color palette tool window -->
    <toolWindow id="QSS Colors"
                secondary="true"
                icon="AllIcons.Toolwindows.ToolWindowPalette"
                anchor="right"
                factoryClass="io.github.avaxerrr.qsstoolkit.palette.QssColorPaletteToolWindowFactory"/>

    <!-- File template for creating new QSS files -->
    <internalFileTemplate name="QssFile"/>
  </extensions>

  <actions>
    <!-- Create New QSS File action -->
    <action id="QssToolkit.NewQssFile"
            class="io.github.avaxerrr.qsstoolkit.actions.CreateQssFileAction"
            text="QSS File"
            description="Create a new QSS style sheet file">
      <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewPythonFile"/>
    </action>
  </actions>
</idea-plugin>
